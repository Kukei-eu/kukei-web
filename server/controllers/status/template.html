{{{ before }}}
<script type="module" src="/static/history-chart.js?v={{ hash }}"></script>
<main>
	<h1><a href="/">Kukei.eu</a></h1>
	<h2>Index statistics</h2>
	<p>Total pages indexed: <format-number>{{ totalPages }}</format-number></p>
	<p>Per index:</p>
	<ul class="list">
		<li><format-number>{{blogPages}}</format-number> blogs pages from <format-number>{{ hostsStats.blogs }}</format-number> blogs</li>
		<li><format-number>{{docsPages}}</format-number> docs pages from <format-number>{{ hostsStats.docs }}</format-number> docs</li>
		<li><format-number>{{magazinesPages}}</format-number> magazines pages from <format-number>{{ hostsStats.magazines }}</format-number> magazines</li>
	</ul>
	<p>Pages known but yet to be crawled: <format-number>{{ uncheckedLang }}</format-number></p>
	<h2>Last two weeks</h2>
	<history-chart chart-data="{{ historyJSON }}"></history-chart>
	<table style="display: none">
		<thead>
			<tr>
				<th>Date</th>
				<th>Crawled count</th>
				<th>Known, pending</th>
				<th>Indexed</th>
				<th>Indexed: blogs</th>
				<th>Index: docs</th>
				<th>Index: magazines</th>
			</tr>
		</thead>
		<tbody>
			{{#history}}
			<tr>
				<td><format-date>{{ date }}</format-date></td>
				<td><format-number>{{ crawledCount }}</format-number></td>
				<td><format-number>{{ unCrawledCount }}</format-number></td>
				<td><format-number>{{ totalIndex }}</format-number></td>
				<td><format-number>{{ blogIndex }}</format-number></td>
				<td><format-number>{{ docsIndex }}</format-number></td>
				<td><format-number>{{ magazinesIndex }}</format-number></td>
			</tr>
			{{/history}}
		</tbody>
	</table>
	<h2>Index sources list</h2>
	<p>Index / url - last crawled at</p>
	<ul class="list">
		{{#finalStats}}
		<li>
			{{index}}
			<ul>
				{{#elements}}
				<li><a href="{{url}}" target="_blank" rel="noopener">{{url}}</a> - <format-date>{{ lastCrawledAtHumanReadable }}</format-date></li>
				{{/elements}}
			</ul>
		</li>
		{{/finalStats}}
	</ul>
</main>
</body>
{{{ after }}}
